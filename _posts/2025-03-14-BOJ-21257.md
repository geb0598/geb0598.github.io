---
title: "[BOJ 21257] Fireworks"
date: 2025-03-14
categories: [μ•κ³ λ¦¬μ¦, λ°±μ¤€]
tags: [λ°±μ¤€, C++, ν™•λ¥ λ΅ , μ‚Όλ¶„ νƒμƒ‰, Gold]
math: true
---

[![λ°±μ¤€ λ΅κ³ ](assets/img/posts/BOJ/boj-og.png)](https://www.acmicpc.net/problem/21257)

[λ°±μ¤€ λ¬Έμ  λ§ν¬](https://www.acmicpc.net/problem/21257)

## π” λ¬Έμ  λ¶„μ„
- λ³Έ λ¬Έμ μ—μ„λ” μ„±κ³µν•  λ•κΉμ§€ ν­μ£½μ„ μ μ‘ν•κ³  ν…μ¤νΈν•λ” κ³Όμ •μ„ λ°λ³µν•λ‹¤. ν­μ£½μ κ°μμ™€λ” κ΄€κ³„μ—†μ΄ ν„μ¬ μ‹μ κΉμ§€ λ§λ“¤μ–΄μ§„ λ¨λ“  ν­μ£½μ„ ν…μ¤νΈν•λ”λ° κ±Έλ¦¬λ” μ‹κ°„μ€ `m`μ΄λ‹¤. λ”°λΌμ„, λ§¤λ² `num`κ°μ ν­μ£½μ„ μ μ‘ν•κ³  ν…μ¤νΈν•λ‹¤κ³  κ°€μ •ν• ν›„ μμƒ μ‹κ°„μ„ μµμ†ν™”ν•λ” `x`λ¥Ό νƒμƒ‰ν•λ‹¤.
- ν…μ¤νΈμ μ„±κ³µμ€ ν™•λ¥ μ μΌλ΅ κ²°μ •λλ―€λ΅ μμƒ μ‹κ°„μ€ **ν…μ¤νΈμ μ„±κ³µν™•λ¥ μ κΈ°λ“κ°’**κ³Ό **ν­μ£½μ„ μ μ‘ν•κ³  ν…μ¤νΈν•λ”λ° κ±Έλ¦¬λ” μ‹κ°„**μ κ³±μΌλ΅ λ‚νƒ€λ‚Ό μ μλ‹¤. μ΄ κ³Όμ •μ€ ν…μ¤νΈκ°€ μ„±κ³µν•  λ•κΉμ§€ λ°λ³µλλ―€λ΅ **κΈ°ν• λ¶„ν¬**λ¥Ό λ”°λ¥Έλ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤. μμ‹μΌλ΅ λ‚νƒ€λ‚΄λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

$$
P(X = x) = 1 - (1 - p \times 10^{-4})^x
$$

$$
E(X = x) = \frac{1}{P(X = x)} = \frac{1}{1 - (1 - p \times 10^{-4})^x}
$$

$$
\text{ν…μ¤νΈ ν• λ²μ— κ±Έλ¦¬λ” μ‹κ°„}: t(x) = n \times x + m
$$

$$
\text{μ΄ μμƒ μ‹κ°„}: f(x) = t(x) \times E(X = x) = \frac{n \times x + m}{1 - (1 - p \times 10^{-4})^x}
$$

- μ„ μμ‹μ€ λ―Έλ¶„κ°€λ¥ν•λ©°, λ―Έλ¶„κ³„μκ°€ 0μΈ μ μ€ λ‹¨ ν•κ°λ§ μ΅΄μ¬ν•λ‹¤. λ”°λΌμ„, **μ λ‹λ¨λ‹¬ ν•¨μ**μ ν•νƒλ¥Ό κ°€μ§€λ―€λ΅ μ‚Όλ¶„ νƒμƒ‰μ„ ν†µν•΄μ„ μ΄ μμƒ μ‹κ°„μ μµμ†κ°’μ„ μ°Ύμ„ μ μλ‹¤.

## π’» μ½”λ“ κµ¬ν„

```c++
#include <bits/stdc++.h>
#define fastio cin.tie(0)->ios::sync_with_stdio(0)

using namespace std;
using ll = long long;
using pi = pair<int, int>;
using pll = pair<ll, ll>;
using vi = vector<int>;
using vvi = vector<vector<int>>;
using vvll = vector<vector<ll>>;
using vll = vector<ll>;
using vpi = vector<pi>;

ll N, M, P;

long double eval(int num) {
    return (N * num + M) / (1 - pow(1 - P * 1e-4L, num));
}

int main() {
    fastio;

    int t;
    cin >> t;
    while (t--) {
        cin >> N >> M >> P;
        int l = 1, r = 1e6;
        while (r - l > 2) {
            int p1 = l + (r - l) / 3;
            int p2 = r - (r - l) / 3;
            if (eval(p1) < eval(p2)) {
                r = p2;
            } else {
                l = p1;
            }
        }
        long double ans = numeric_limits<long double>::max();
        for (int i = l; i <= r; ++i) {
            ans = min(ans, eval(i));
        }
        cout << fixed << setprecision(10) << ans << "\n";
    }
}
```

## π“ μ½”λ“ μ„¤λ…

## π”§ νΈλ¬λΈ” μν…
- μ…λ ¥ ν¬κΈ°κ°€ ν¬λ―€λ΅ νƒ€μ…μ— μ£Όμν•λ‹¤.

## π“ μ°Έκ³ μλ£
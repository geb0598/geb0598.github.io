---
title: "[BOJ 5536] ë¬¼ê³ ê¸°ì˜ ì„œì‹ ë²”ìœ„"
date: 2025-03-06
categories: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€]
tags: [ë°±ì¤€, C++, ë¼ì¸ ìŠ¤ìœ„í•‘, Gold]
---

[![ë°±ì¤€ ë¡œê³ ](assets/img/posts/BOJ/boj-og.png)](https://www.acmicpc.net/problem/5536)

[ë°±ì¤€ ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/5536)

## ğŸ” ë¬¸ì œ ë¶„ì„
> ì–´ë– í•œ êµ¬ê°„ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ê²¹ì³ìˆëŠ” êµ¬ê°„ì˜ ìˆ˜ ë° ê¸¸ì´ëŠ” **ë¼ì¸ ìŠ¤ìœ„í•‘** ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤. ë³¸ ë¬¸ì œëŠ” ì‚¼ì°¨ì›ìœ¼ë¡œ ë²”ìœ„ê°€ ì£¼ì–´ì¡Œìœ¼ë¯€ë¡œ, ì¼ì°¨ì›ë¶€í„° í’€ì´ë¥¼ í™•ì¥í•´ê°„ë‹¤.
{: .prompt-tip }

### 1. ì¼ì°¨ì› êµ¬ê°„

![BOJ-5536-1](assets/img/posts/BOJ/BOJ-5536/BOJ_5536-1.png){: width="700" }

- ì¼ì°¨ì› êµ¬ê°„ì€ ë²”ìœ„ì˜ **ì™¼ìª½ ë**ê³¼ **ì˜¤ë¥¸ìª½ ë**ì„ ë¶„ë¦¬í•œ ë’¤, ê°ê° ë°°ì—´ì— ì‚½ì…í•œë‹¤. ë°°ì—´ì„ ì •ë ¬í•œ ë’¤, ì•ì—ì„œë¶€í„° ë’¤ë¡œ ì°¨ë¡€ë¡œ ìˆœíšŒí•˜ë©° ë²”ìœ„ì˜ **ì™¼ìª½ ë**ì¼ ê²½ìš° `++cnt`ë¥¼, **ì˜¤ë¥¸ìª½ ë**ì¼ ê²½ìš° `--cnt`ë¥¼ í•¨ìœ¼ë¡œì¨ ê²¹ì³ìˆëŠ” êµ¬ê°„ì˜ ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.
- ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê²¹ì³ìˆëŠ” êµ¬ê°„ì˜ ìˆ˜ë¥¼ êµ¬í•œ ë’¤, `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” ëª¨ë“  ë°°ì—´ì˜ ì›ì†Œì— ëŒ€í•˜ì—¬ ë‹¤ìŒ ì›ì†Œê¹Œì§€ì˜ ê¸¸ì´ë¥¼ í•©í•˜ë©´ `K`ê°œ ì´ìƒ ê²¹ì³ìˆëŠ” êµ¬ê°„ì˜ ê¸¸ì´ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
- `K=3`ì˜ ê²½ìš°, ìœ„ ì˜ˆì‹œì—ì„œ `x3`, `x4`ì¼ ë•Œ ì¡°ê±´ì´ ë§Œì¡±ë˜ë¯€ë¡œ `x3' - x3`, `x1' - x4`ê°€ ê²°ê³¼ì— ë”í•´ì§„ë‹¤.
### 2. ì´ì°¨ì› êµ¬ê°„

![BOJ-5536-2](assets/img/posts/BOJ/BOJ-5536/BOJ_5536-2.png){: width="700" }

- ì´ì°¨ì› êµ¬ê°„ë„ `x`ê°’ì— ëŒ€í•˜ì—¬ ì¼ì°¨ì› êµ¬ê°„ê³¼ ë™ì¼í•˜ê²Œ ì§„í–‰í•œë‹¤. ë§Œì•½ `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” êµ¬ê°„ `[x1, x2]`ë¥¼ ë°œê²¬í•˜ë©´, í•´ë‹¹ êµ¬ê°„ì— ì†í•´ìˆëŠ” `y`ê°’ë“¤ì— ëŒ€í•´ì„œ ìœ„ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” êµ¬ê°„ì˜ ê¸¸ì´ì˜ í•©ì„ êµ¬í•œë‹¤. ì´ êµ¬ê°„ì˜ ê¸¸ì´ë¥¼ `len`ì´ë¼ í•œë‹¤ë©´ í•´ë‹¹ ë¶€ë¶„ì˜ ë„“ì´ëŠ” `(x2 - x1) * len`ìœ¼ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.

### 3. ì‚¼ì°¨ì› êµ¬ê°„

- ìœ„ ì•„ì´ë””ì–´ë¥¼ ì¢…í•©í•˜ë©´ ì‚¼ì°¨ì› êµ¬ê°„ìœ¼ë¡œì˜ í™•ì¥ë„ ì–´ë µì§€ ì•Šë‹¤. `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” êµ¬ê°„ `[x1, x2]`ì˜ ì¡´ì¬í•˜ëŠ” `y`ê°’ë“¤ì— ëŒ€í•´ì„œ `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” ëª¨ë“  êµ¬ê°„ `[y1, y2]`ë¥¼ ì°¾ëŠ”ë‹¤. ì´í›„, ê° êµ¬ê°„ ë‚´ì— ì¡´ì¬í•˜ëŠ” `z`ê°’ë“¤ì— ëŒ€í•´ì„œ `cnt >= K`ë¥¼ ë§Œì¡±í•˜ëŠ” êµ¬ê°„ì˜ í•©ì„ ì°¾ëŠ”ë‹¤. ì´ êµ¬ê°„ì˜ í•©ì€ `y`ê°’ êµ¬ê°„ì˜ ê¸¸ì´ì™€ ê³±í•´ì ¸ì„œ ë„“ì´ê°€ ë˜ê³ , ëª¨ë‘ ë”í•´ì§„ ë„“ì´ëŠ” `x`ê°’ êµ¬ê°„ì˜ ê¸¸ì´ì™€ ê³±í•´ì ¸ ë¶€í”¼ê°€ ëœë‹¤. ì´ ê³¼ì •ì€ ì¬ê·€ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

## ğŸ’» ì½”ë“œ êµ¬í˜„

```c++
#include <bits/stdc++.h>

#define fastio cin.tie(0)->ios::sync_with_stdio(0)

using namespace std;
using ll = long long;
using pi = pair<int, int>;
using pll = pair<ll, ll>;
using vi = vector<int>;
using vvi = vector<vector<int>>;
using vvll = vector<vector<ll>>;
using vll = vector<ll>;
using vpi = vector<pi>;

constexpr int MAX = 50;

int N, K, coord[MAX][2][3];

ll solve(set<int> cands, int depth) {
    if (depth >= 3) return 1;
    vpi sweep;
    for (auto idx : cands) {
        sweep.emplace_back(idx, 0);
        sweep.emplace_back(idx, 1);
    }
    auto cmp = [&] (pi lhs, pi rhs) {
        int lhs_pos = coord[lhs.first][lhs.second][depth];
        int rhs_pos = coord[rhs.first][rhs.second][depth];
        if (lhs_pos == rhs_pos) {
            return lhs.second > rhs.second;
        }
        return lhs_pos < rhs_pos;
    };
    sort(sweep.begin(), sweep.end(), cmp);
    set<int> next_cands;
    int cnt = 0;
    ll ret = 0;
    for (int i = 0; i < sweep.size(); ++i) {
        auto [idx, x] = sweep[i];
        if (x == 0) {
            ++cnt;
            next_cands.insert(idx);
        } else {
            --cnt;
            next_cands.erase(idx);
        }
        if (cnt >= K) {
            auto [_idx, _x] = sweep[i + 1];
            ret +=
                (coord[_idx][_x][depth] - coord[idx][x][depth]) *
                solve(next_cands, depth + 1);
        }
    }
    return ret;
}

int main() {
    fastio;

    cin >> N >> K;
    for (int i = 0; i < N; ++i) {
        for (int j = 0; j < 2; ++j) {
            for (int k = 0; k < 3; ++k) {
                cin >> coord[i][j][k];
            }
        }
    }
    set<int> cands;
    for (int i = 0; i < N; ++i) cands.insert(i);
    cout << solve(cands, 0);
}
```

## ğŸ“ ì½”ë“œ ì„¤ëª…

- `depth = 0`ì€ `x`ê°’ë“¤ì˜ êµ¬ê°„ì„, `depth = 1`ì€ `y`ê°’ë“¤ì˜ êµ¬ê°„ì„, `depth = 2`ëŠ” `z`ê°’ë“¤ì˜ êµ¬ê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- `solve(cands, 0):` `cnt >= K`ì¸ `xyz`í‰ë©´ì˜ ì¡´ì¬í•˜ëŠ” ì§ìœ¡ë©´ì²´ë“¤ì˜ ë¶€í”¼ì˜ í•©
- `solve(cands, 1):` `cnt >= K`ì¸ `x`ê°’ì˜ êµ¬ê°„ì— ëŒ€í•´ì„œ í•´ë‹¹ êµ¬ê°„ ë‚´ì˜ ì¡´ì¬í•˜ëŠ” `cnt >= K`ì¸ `yz`í‰ë©´ì— ì¡´ì¬í•˜ëŠ” ì§ì‚¬ê°í˜•ë“¤ì˜ ë„“ì´ì˜ í•©
- `solve(cands, 2):` `cnt >= K`ì¸ `y`ê°’ì˜ êµ¬ê°„ì— ëŒ€í•´ì„œ í•´ë‹¹ êµ¬ê°„ ë‚´ì˜ ì¡´ì¬í•˜ëŠ” `cnt >= K`ì¸ `z`ê°’ êµ¬ê°„ ê¸¸ì´ì˜ í•©

## ğŸ”§ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
- ì¢Œí‘œì˜ ìµœëŒ€ ë²”ìœ„ê°€ `1e6`ì´ë¯€ë¡œ ë¶€í”¼ëŠ” ìµœëŒ€ `1e18`ì´ ë  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, `64bit` ì •ìˆ˜í˜•ì„ í™œìš©í•œë‹¤.